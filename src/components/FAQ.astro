---
import { site } from '../site.config';

interface FAQItem {
  question: string;
  answer: string;
}

interface Props {
  faqs: FAQItem[];
}

const { faqs } = Astro.props;

const faqJsonLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map((faq) => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer,
    },
  })),
};
---

<section class="py-14 md:py-20 bg-surface">
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-[family-name:var(--font-display)] text-primary uppercase mb-4">
        Frequently Asked Questions
      </h2>
      <p class="text-muted text-lg font-[family-name:var(--font-body)]">
        Common questions about {site.name}'s services.
      </p>
    </div>

    <div class="space-y-3">
      {faqs.map((faq) => (
        <details
          class="group bg-background rounded-md shadow-sm border-l-4 border-primary overflow-hidden"
        >
          <summary class="flex items-center justify-between cursor-pointer px-6 py-4 text-left font-bold text-primary hover:bg-gray-50 transition-colors duration-200 font-[family-name:var(--font-body)] list-none [&::-webkit-details-marker]:hidden">
            <span class="pr-4">{faq.question}</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 flex-shrink-0 text-muted transition-transform duration-200 group-open:rotate-180"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>
          <div class="px-6 pb-4">
            <p class="text-muted leading-relaxed font-[family-name:var(--font-body)]">
              {faq.answer}
            </p>
          </div>
        </details>
      ))}
    </div>
  </div>

  <script type="application/ld+json" set:html={JSON.stringify(faqJsonLd)} />
</section>
